---
description: 
globs: 
alwaysApply: true
---


## 项目简介
这是一款聊天机器人项目，通过监听聊天窗口，抓取消息，调用大语言模型，获取回答再发给客户端。消息会被保存在MySQL数据集库中。


## 项目代码结构
以下列出部分项目目录结构，需要持续完善。

### wx
通过wxauto库，监听指定用户或者群的消息，通过数据库模块，发送给云端的MySQL数据库

### llm
根据bot接收到的内容，调用大语言模型，并将结果返回给bot
#### prompt
这个目录下用于配置各种prompt

### lib
#### wxauto和wxautox
特别注意：接口参考wxauto，但是实际上使用的需要是wxautox `from wxautox import WeChat`


### db
MySQL数据库访问模块

db/
├── __init__.py
├── config.py         # 数据库配置文件（如连接参数等）
├── connection.py     # 数据库连接管理
├── models.py         # 数据表结构定义（如ORM模型，可选）
├── crud.py           # 数据的增删改查操作封装
└── utils.py          # 其他数据库相关的工具函数（可选）

#### 数据库封装
封装基本的数据库访问功能，包括数据库配置填写，数据库连接，数据的增删改查等

#### bot和数据库业务通信
场景1：获取聊天窗口的历史聊天记录

在表chat_message中，通过window_name，bot可以确定在某个群聊或者私聊中的历史聊天记录。
当客户请求AI问答的时候，AI需要把和客户的历史聊天信息发送给LLM，方便LLM更好的解答。



### test
各个模块的测试用例会被放在这个文件夹内。

### doc
记录一些文档

procedure.mb中会记录用户和cursor的简要交互过程。